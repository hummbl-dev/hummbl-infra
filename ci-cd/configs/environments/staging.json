{
  "$schema": "../../../schemas/environment.schema.json",
  "environment": "staging",
  "description": "Staging environment - production mirror",

  "deployment": {
    "strategy": "rolling",
    "replicas": {
      "min": 2,
      "max": 5,
      "desired": 2
    },
    "rollingUpdate": {
      "maxUnavailable": 1,
      "maxSurge": 1
    },
    "timeoutSeconds": 600
  },

  "resources": {
    "requests": {
      "cpu": "250m",
      "memory": "512Mi"
    },
    "limits": {
      "cpu": "1000m",
      "memory": "1Gi"
    }
  },

  "healthCheck": {
    "enabled": true,
    "path": "/health",
    "port": 3000,
    "initialDelaySeconds": 10,
    "periodSeconds": 15,
    "timeoutSeconds": 5,
    "successThreshold": 1,
    "failureThreshold": 3
  },

  "networking": {
    "tlsEnabled": true,
    "ingressEnabled": true,
    "hostnames": ["staging.hummbl.io"]
  },

  "approvalGates": {
    "required": true,
    "approvers": ["@hummbl/platform-team"],
    "minApprovals": 1
  },

  "promotion": {
    "canPromoteTo": ["prod"],
    "requiresTests": true,
    "testSuite": "integration"
  },

  "observability": {
    "logLevel": "info",
    "metricsEnabled": true,
    "tracingEnabled": true
  },

  "compliance": {
    "signedImages": true,
    "sbomRequired": true
  }
}
